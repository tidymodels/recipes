<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • recipes</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../tidymodels.css" rel="stylesheet">




<meta property="og:title" content="Changelog" />
<meta property="og:image" content="https://recipes.tidymodels.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">recipes</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.15.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/Simple_Example.html">Simple Example</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Selecting_Variables.html">Selecting Variables</a>
    </li>
    <li>
      <a href="../articles/Custom_Steps.html">Custom Steps</a>
    </li>
    <li>
      <a href="../articles/Ordering.html">The Order of Steps</a>
    </li>
    <li>
      <a href="../articles/Dummies.html">Dummy Variables and Interactions</a>
    </li>
    <li>
      <a href="../articles/Roles.html">Column Roles</a>
    </li>
    <li>
      <a href="../articles/Skipping.html">On Skipping Steps</a>
    </li>
    <li>
      <a href="../articles/articles/Subsampling.html">Subsampling for Class Imbalances</a>
    </li>
    <li>
      <a href="../articles/articles/Multivariate_PLS.html">Multivariate Analysis using Partial Least Squares</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/recipes/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/tidymodels/recipes/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="recipes-development-version" class="section level1">
<h1 class="page-header" data-toc-text="development version">
<a href="#recipes-development-version" class="anchor"></a>recipes (development version)<small> Unreleased </small>
</h1>
</div>
    <div id="recipes-0115" class="section level1">
<h1 class="page-header" data-toc-text="0.1.15">
<a href="#recipes-0115" class="anchor"></a>recipes 0.1.15<small> 2020-11-11 </small>
</h1>
<ul>
<li><p>The full tidyselect DSL is now allowed inside recipes <code>step_*()</code> functions. This includes the operators <code><a href="https://rdrr.io/r/base/Logic.html">&amp;</a></code>, <code><a href="https://rdrr.io/r/base/Logic.html">|</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> and <code><a href="https://rdrr.io/r/base/Logic.html">!</a></code> and the new <code>where()</code> function. Additionally, the restriction preventing user defined selectors from being used has been lifted (<a href='https://github.com/tidymodels/recipes/issues/572'>#572</a>).</p></li>
<li><p>If steps that drop/add variables are skipped when baking the test set, the resulting column ordering of the baked test set will now be relative to the original recipe specification rather than relative to the baked training set. This is often more intuitive.</p></li>
<li><p>More infrastructure work to make parallel processing on Windows less buggy with PSOCK clusters</p></li>
<li><p><code><a href="../reference/fully_trained.html">fully_trained()</a></code> now returns <code>FALSE</code> when an unprepped recipe is used.</p></li>
</ul>
</div>
    <div id="recipes-0114" class="section level1">
<h1 class="page-header" data-toc-text="0.1.14">
<a href="#recipes-0114" class="anchor"></a>recipes 0.1.14<small> 2020-10-17 </small>
</h1>
<ul>
<li><p><code><a href="../reference/prep.html">prep()</a></code> gained an option to print a summary of which columns were added and/or removed during execution.</p></li>
<li><p>To reduce confusion between <code><a href="../reference/bake.html">bake()</a></code> and <code><a href="../reference/juice.html">juice()</a></code>, the latter is superseded in favor of using <code><a href="../reference/bake.html">bake(object, new_data = NULL)</a></code>. The <code>new_data</code> argument now has no default, so a <code>NULL</code> value must be explicitly used in order to emulate the results of <code><a href="../reference/juice.html">juice()</a></code>. <code><a href="../reference/juice.html">juice()</a></code> will remain in the package (and used internally) but most communication and training will use <code><a href="../reference/bake.html">bake(object, new_data = NULL)</a></code>. (<a href='https://github.com/tidymodels/recipes/issues/543'>#543</a>)</p></li>
<li><p>Tim Zhou added a step to use linear models for imputation (<a href='https://github.com/tidymodels/recipes/issues/555'>#555</a>)</p></li>
</ul>
</div>
    <div id="recipes-0113" class="section level1">
<h1 class="page-header" data-toc-text="0.1.13">
<a href="#recipes-0113" class="anchor"></a>recipes 0.1.13<small> 2020-06-23 </small>
</h1>
<div id="breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes" class="anchor"></a>Breaking Changes</h2>
<ul>
<li><p><code><a href="../reference/step_filter.html">step_filter()</a></code>, <code><a href="../reference/step_slice.html">step_slice()</a></code>, <code><a href="../reference/step_sample.html">step_sample()</a></code>, and <code><a href="../reference/step_naomit.html">step_naomit()</a></code> had their defaults for <code>skip</code> changed to <code>TRUE</code>. In the vast majority of applications, these steps should not be applied to the test or assessment sets.</p></li>
<li><p><code>tidyr</code> version 1.0.0 or later is now required.</p></li>
</ul>
</div>
<div id="other-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes" class="anchor"></a>Other Changes</h2>
<ul>
<li><p><code><a href="../reference/step_pls.html">step_pls()</a></code> was changed so that it uses the Bioconductor mixOmics package. Objects created with previous versions of <code>recipes</code> can still use <code><a href="../reference/juice.html">juice()</a></code> and <code><a href="../reference/bake.html">bake()</a></code>. With the current version, the categorical outcomes can be used but now multivariate models do not. Also, the new method allows for sparse results.</p></li>
<li><p>As suggested by <a href='https://github.com/StefanBRas'>@StefanBRas</a>, <code><a href="../reference/step_ica.html">step_ica()</a></code> now defaults to the C engine (<a href='https://github.com/tidymodels/recipes/issues/518'>#518</a>)</p></li>
<li><p>Avoided partial matching on <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> arguments in internal functions.</p></li>
<li><p>Improved error messaging, for example when a user tries to <code><a href="../reference/prep.html">prep()</a></code> a tuneable recipe.</p></li>
<li><p><code><a href="../reference/step_upsample.html">step_upsample()</a></code> and <code><a href="../reference/step_downsample.html">step_downsample()</a></code> are soft deprecated in recipes as they are now available in the themis package. They will be removed in the next version.</p></li>
<li><p><code><a href="../reference/step_zv.html">step_zv()</a></code> now handles <code>NA</code> values so that variables with zero variance <em>plus</em> are removed.</p></li>
<li><p>The selectors <code><a href="https://tidyselect.r-lib.org/reference/all_of.html">all_of()</a></code> and <code><a href="https://tidyselect.r-lib.org/reference/all_of.html">any_of()</a></code> can now be used in step selections (<a href='https://github.com/tidymodels/recipes/issues/477'>#477</a>).</p></li>
<li><p>The <code>tune</code> pacakge can now use recipes with <code>check</code> operations (but also requires <code>tune</code> &gt;= 0.1.0.9000).</p></li>
<li><p>The <code>tidy</code> method for <code><a href="../reference/step_pca.html">step_pca()</a></code> now has an option for returning the variance statistics for each component.</p></li>
</ul>
</div>
</div>
    <div id="recipes-0112" class="section level1">
<h1 class="page-header" data-toc-text="0.1.12">
<a href="#recipes-0112" class="anchor"></a>recipes 0.1.12<small> 2020-05-01 </small>
</h1>
<ul>
<li>Some S3 methods were not being registered previously. This caused issues in R 4.0.</li>
</ul>
</div>
    <div id="recipes-0111" class="section level1">
<h1 class="page-header" data-toc-text="0.1.11">
<a href="#recipes-0111" class="anchor"></a>recipes 0.1.11<small> 2020-04-30 </small>
</h1>
<div id="other-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-1" class="anchor"></a>Other Changes</h2>
<ul>
<li>While <code>recipes</code> does not directly depend on <code>dials</code>, it has several S3 methods for generics in <code>dials</code>. Version 0.0.5 of <code>dials</code> added stricter validation for these methods, so changes were required for <code>recipes</code>.</li>
</ul>
</div>
<div id="new-operations" class="section level2">
<h2 class="hasAnchor">
<a href="#new-operations" class="anchor"></a>New Operations</h2>
<ul>
<li>
<code><a href="../reference/step_cut.html">step_cut()</a></code> enables you to create a factor from a numeric based on provided break (contributed by Edwin Thoen)</li>
</ul>
</div>
</div>
    <div id="recipes-0110" class="section level1">
<h1 class="page-header" data-toc-text="0.1.10">
<a href="#recipes-0110" class="anchor"></a>recipes 0.1.10<small> 2020-03-18 </small>
</h1>
<div id="breaking-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-1" class="anchor"></a>Breaking Changes</h2>
<ul>
<li>renamed <code>yj_trans()</code> to <code><a href="../reference/yj_transform.html">yj_transform()</a></code> to avoid conflicts.</li>
</ul>
</div>
<div id="other-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-2" class="anchor"></a>Other Changes</h2>
<ul>
<li><p>Added flexible naming options for new columns created by <code><a href="../reference/step_depth.html">step_depth()</a></code> and <code><a href="../reference/step_classdist.html">step_classdist()</a></code> (<a href='https://github.com/tidymodels/recipes/issues/262'>#262</a>).</p></li>
<li><p>Small changes for base R’s <code>stringsAsFactors</code> change.</p></li>
</ul>
</div>
</div>
    <div id="recipes-019" class="section level1">
<h1 class="page-header" data-toc-text="0.1.9">
<a href="#recipes-019" class="anchor"></a>recipes 0.1.9<small> 2020-01-07 </small>
</h1>
<ul>
<li><p>Delayed S3 method registration for <code>tune::tunable()</code> methods that live in recipes will now work correctly on R &gt;=4.0.0 (<a href="https://github.com/tidymodels/recipes/issues/439"><a href='https://github.com/tidymodels/recipes/issues/439'>#439</a></a>, <a href="https://github.com/tidymodels/tune/issues/146">tidymodels/tune<a href='https://github.com/tidymodels/recipes/issues/146'>#146</a></a>).</p></li>
<li><p><code><a href="../reference/step_relevel.html">step_relevel()</a></code> added.</p></li>
</ul>
</div>
    <div id="recipes-018" class="section level1">
<h1 class="page-header" data-toc-text="0.1.8">
<a href="#recipes-018" class="anchor"></a><small> 2019-12-18 </small><code>recipes</code> 0.1.8</h1>
<div id="breaking-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-2" class="anchor"></a>Breaking Changes</h2>
<ul>
<li><p>The imputation steps do not change the data type being imputed now. Previously, if the data were integer, the data would be changed to numeric (for some step types). The change is breaking since the underlying data of imputed values are now saved as a list instead of a vector (for some step types).</p></li>
<li><p>The data sets were moved to the new <code>modeldata</code> package.</p></li>
<li><p><code><a href="../reference/step_num2factor.html">step_num2factor()</a></code> was rewritten due to a bug that ignored the user-supplied levels (<a href="https://github.com/tidymodels/recipes/issues/425"><a href='https://github.com/tidymodels/recipes/issues/425'>#425</a></a>). The results of the <code>transform</code> argument are now required to be a function and <code>levels</code> must now be supplied.</p></li>
</ul>
</div>
<div id="other-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-3" class="anchor"></a>Other Changes</h2>
<ul>
<li><p>Using a minus in the formula to <code><a href="../reference/recipes.html">recipes()</a></code> is no longer allowed (it didn’t remove variables anyway). <code><a href="../reference/step_rm.html">step_rm()</a></code> or <code><a href="../reference/roles.html">update_role()</a></code> can be used instead.</p></li>
<li><p>When using a selector that returns no columns, <code><a href="../reference/juice.html">juice()</a></code> and <code><a href="../reference/bake.html">bake()</a></code> will now return a tibble with as many rows as the original template data or the <code>new_data</code> respectively. This is more consistent with how selectors work in dplyr (<a href="https://github.com/tidymodels/recipes/issues/411"><a href='https://github.com/tidymodels/recipes/issues/411'>#411</a></a>).</p></li>
<li><p>Code was added to explicitly register <code>tunable</code> methods when <code>recipes</code> is loaded. This is required because of changes occurring in R 4.0.</p></li>
<li><p><code><a href="../reference/check_class.html">check_class()</a></code> checks if a variable is of the designated class. Class is either learned from the train set or provided in the check. (contributed by Edwin Thoen)</p></li>
<li><p><code><a href="../reference/step_normalize.html">step_normalize()</a></code> and <code><a href="../reference/step_scale.html">step_scale()</a></code> gained a <code>factor</code> argument with values of 1 or 2 that can scale the standard deviations used to transform the data. (<a href="https://github.com/tidymodels/recipes/issues/380"><a href='https://github.com/tidymodels/recipes/issues/380'>#380</a></a>)</p></li>
<li><p><code><a href="../reference/bake.html">bake()</a></code> now produces a tibble with columns in the same order as <code><a href="../reference/juice.html">juice()</a></code> (<a href="https://github.com/tidymodels/recipes/issues/365"><a href='https://github.com/tidymodels/recipes/issues/365'>#365</a></a>)</p></li>
</ul>
</div>
</div>
    <div id="recipes-017" class="section level1">
<h1 class="page-header" data-toc-text="0.1.7">
<a href="#recipes-017" class="anchor"></a><small> 2019-09-15 </small><code>recipes</code> 0.1.7</h1>
<p>Release driven by changes in <code>tidyr</code> (v 1.0.0).</p>
<div id="breaking-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-3" class="anchor"></a>Breaking Changes</h2>
<p><code>format_selector()</code>’s <code>wdth</code> argument has been renamed to <code>width</code> (<a href="https://github.com/tidymodels/recipes/issues/250"><a href='https://github.com/tidymodels/recipes/issues/250'>#250</a></a>).</p>
</div>
<div id="new-operations-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-operations-1" class="anchor"></a>New Operations</h2>
<ul>
<li>
<code><a href="../reference/step_mutate_at.html">step_mutate_at()</a></code>, <code><a href="../reference/step_rename.html">step_rename()</a></code>, and <code><a href="../reference/step_rename_at.html">step_rename_at()</a></code> were added.</li>
</ul>
</div>
<div id="other-changes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-4" class="anchor"></a>Other Changes</h2>
<ul>
<li><p>The use of <code>varying()</code> will be deprecated in favor of an upcoming function <code>tune()</code>. No changes are need in this version, but subsequent versions will work with <code>tune()</code>.</p></li>
<li><p><code><a href="../reference/format_ch_vec.html">format_ch_vec()</a></code> and <code>format_selector()</code> are now exported (<a href="https://github.com/tidymodels/recipes/issues/250"><a href='https://github.com/tidymodels/recipes/issues/250'>#250</a></a>).</p></li>
<li><p><code>check_new_values</code> breaks <code>bake</code> if variable contains values that were not observed in the train set (contributed by Edwin Thoen)</p></li>
<li><p>When no outcomes are in the recipe, using <code>juice(object, all_outcomes()</code> and <code>bake(object, new_data, all_outcomes()</code> will return a tibble with zero rows and zero columns (instead of failing). (<a href="https://github.com/tidymodels/recipes/issues/298"><a href='https://github.com/tidymodels/recipes/issues/298'>#298</a></a>). This will also occur when the selectors select no columns.</p></li>
<li><p>As alternatives to <code><a href="../reference/step_kpca.html">step_kpca()</a></code>, two separate steps were added called <code><a href="../reference/step_kpca_rbf.html">step_kpca_rbf()</a></code> and <code><a href="../reference/step_kpca_poly.html">step_kpca_poly()</a></code>. The use of <code><a href="../reference/step_kpca.html">step_kpca()</a></code> will print a deprecation message that it will be going away.</p></li>
<li><p><code><a href="../reference/step_nzv.html">step_nzv()</a></code> and <code><a href="../reference/step_poly.html">step_poly()</a></code> had arguments promoted out of their <code>options</code> slot. <code>options</code> can be used in the short term but is deprecated.</p></li>
<li><p><code><a href="../reference/step_downsample.html">step_downsample()</a></code> will replace the <code>ratio</code> argument with <code>under_ratio</code> and <code><a href="../reference/step_upsample.html">step_upsample()</a></code> will replace it with <code>over_ratio</code>. <code>ratio</code> still works (for now) but issues a deprecation message.</p></li>
<li><p><code><a href="../reference/step_discretize.html">step_discretize()</a></code> has arguments moved out of <code>options</code> too; the main arguments are now <code>num_breaks</code> (instead of <code>cuts</code>) and <code>min_unique</code>. Again, deprecation messages are issued with the old argument structure.</p></li>
<li><p>Models using the <code>dimRed</code> package (<code><a href="../reference/step_kpca.html">step_kpca()</a></code>, <code><a href="../reference/step_isomap.html">step_isomap()</a></code>, and <code><a href="../reference/step_nnmf.html">step_nnmf()</a></code>) would silently fail if the projection method failed. An error is issued now.</p></li>
<li><p>Methods were added for a future generic called <code><a href="https://generics.r-lib.org/reference/tunable.html">tunable()</a></code>. This outlines which parameters in a step can/could be tuned.</p></li>
</ul>
</div>
</div>
    <div id="recipes-016" class="section level1">
<h1 class="page-header" data-toc-text="0.1.6">
<a href="#recipes-016" class="anchor"></a><small> 2019-07-02 </small><code>recipes</code> 0.1.6</h1>
<p>Release driven by changes in <code>rlang</code>.</p>
<div id="breaking-changes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-4" class="anchor"></a>Breaking Changes</h2>
<ul>
<li><p>Since 2018, a warning has been issued when the wrong argument was used in <code><a href="../reference/bake.html">bake(recipe, newdata)</a></code>. The depredation period is over and <code>new_data</code> is officially required.</p></li>
<li><p>Previously, if <code><a href="../reference/step_other.html">step_other()</a></code> did <em>not</em> collapse any levels, it would still add an “other” level to the factor. This would lump new factor levels into “other” when data were baked (as <code><a href="../reference/step_novel.html">step_novel()</a></code> does). This no longer occurs since it was inconsistent with <code><a href="../reference/step_other.html">?step_other</a></code>, which said that</p></li>
</ul>
<blockquote>
<p>“If no pooling is done the data are unmodified”.</p>
</blockquote>
</div>
<div id="new-operations-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-operations-2" class="anchor"></a>New Operations</h2>
<ul>
<li>
<code><a href="../reference/step_normalize.html">step_normalize()</a></code> centers and scales the data (if you are, like Max, too lazy to use two separate steps).</li>
<li>
<code><a href="../reference/step_unknown.html">step_unknown()</a></code> will convert missing data in categorical columns to “unknown” and update factor levels.</li>
</ul>
</div>
<div id="other-changes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-5" class="anchor"></a>Other Changes</h2>
<ul>
<li><p>If <code>threshold</code> argument of <code>step_other</code> is greater than one then it specifies the minimum sample size before the levels of the factor are collapsed into the “other” category. <a href="https://github.com/tidymodels/recipes/issues/289"><a href='https://github.com/tidymodels/recipes/issues/289'>#289</a></a></p></li>
<li><p><code><a href="../reference/step_knnimpute.html">step_knnimpute()</a></code> can now pass two options to the underlying knn code, including the number of threads (<a href="https://github.com/tidymodels/recipes/issues/323"><a href='https://github.com/tidymodels/recipes/issues/323'>#323</a></a>).</p></li>
<li><p>Due to changes by CRAN, <code><a href="../reference/step_nnmf.html">step_nnmf()</a></code> only works on versions of R &gt;= 3.6.0 due to dependency issues.</p></li>
<li><p><code><a href="../reference/step_dummy.html">step_dummy()</a></code> and <code><a href="../reference/step_other.html">step_other()</a></code> are now tolerant to cases where that step’s selectors do not capture any columns. In this case, no modifications to the data are made. (<a href="https://github.com/tidymodels/recipes/issues/290"><a href='https://github.com/tidymodels/recipes/issues/290'>#290</a></a>, <a href="https://github.com/tidymodels/recipes/issues/348"><a href='https://github.com/tidymodels/recipes/issues/348'>#348</a></a>)</p></li>
<li><p><code><a href="../reference/step_dummy.html">step_dummy()</a></code> can now retain the original columns that are used to make the dummy variables. (<a href="https://github.com/tidymodels/recipes/issues/328"><a href='https://github.com/tidymodels/recipes/issues/328'>#328</a></a>)</p></li>
<li><p><code><a href="../reference/step_other.html">step_other()</a></code>’s print method only reports the variables with collapsed levels (as opposed to any column that was <em>tested</em> to see if it needed collapsing). (<a href="https://github.com/tidymodels/recipes/issues/338"><a href='https://github.com/tidymodels/recipes/issues/338'>#338</a></a>)</p></li>
<li><p><code><a href="../reference/step_pca.html">step_pca()</a></code>, <code><a href="../reference/step_kpca.html">step_kpca()</a></code>, <code><a href="../reference/step_ica.html">step_ica()</a></code>, <code><a href="../reference/step_nnmf.html">step_nnmf()</a></code>, <code><a href="../reference/step_pls.html">step_pls()</a></code>, and <code><a href="../reference/step_isomap.html">step_isomap()</a></code> now accept zero components. In this case, the original data are returned.</p></li>
</ul>
</div>
</div>
    <div id="recipes-015" class="section level1">
<h1 class="page-header" data-toc-text="0.1.5">
<a href="#recipes-015" class="anchor"></a><small> 2019-03-21 </small><code>recipes</code> 0.1.5</h1>
<p>Small release driven by changes in <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> in the current r-devel.</p>
<div id="other-changes-6" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-6" class="anchor"></a>Other Changes</h2>
<ul>
<li><p>A new vignette discussing roles has been added.</p></li>
<li><p>To provide infrastructure for finalizing varying parameters, an <code><a href="https://rdrr.io/r/stats/update.html">update()</a></code> method for recipe steps has been added. This allows users to alter information in steps that have not yet been trained.</p></li>
<li><p><code>step_interact</code> will no longer fail if an interaction contains an interaction using column that has been previously filtered from the data. A warning is issued when this happens and no interaction terms will be created.</p></li>
<li><p><code>step_corr</code> was made more fault tolerant for cases where the data contain a zero-variance column or columns with missing values.</p></li>
<li><p>Set the embedded environment to NULL in <code>prep.step_dummy</code> to reduce the file size of serialized recipe class objects when using <code>saveRDS</code>.</p></li>
</ul>
</div>
<div id="breaking-changes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-5" class="anchor"></a>Breaking Changes</h2>
<ul>
<li>The <code>tidy</code> method for <code>step_dummy</code> now returns the original variable <em>and</em> the levels of the future dummy variables.</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug Fixes</h2>
<ul>
<li>Updating the role of new columns generated by a recipe step no longer also updates <code>NA</code> roles of existing columns (<a href="https://github.com/tidymodels/recipes/issues/296"><a href='https://github.com/tidymodels/recipes/issues/296'>#296</a></a>).</li>
</ul>
</div>
</div>
    <div id="recipes-014" class="section level1">
<h1 class="page-header" data-toc-text="0.1.4">
<a href="#recipes-014" class="anchor"></a><small> 2018-11-19 </small><code>recipes</code> 0.1.4</h1>
<div id="breaking-changes-6" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-6" class="anchor"></a>Breaking Changes</h2>
<ul>
<li>
<p>Several argument names were changed to be consistent with other <code>tidymodels</code> packages (e.g. <code>dials</code>) and the general tidyverse naming conventions.</p>
<ul>
<li>
<code>K</code> in <code>step_knnimpute</code> was changed to <code>neighbors</code>. <code>step_isomap</code> had the number of neighbors promoted to a main argument called <code>neighbors</code>
</li>
<li>
<code>step_pca</code>, <code>step_pls</code>, <code>step_kpca</code>, <code>step_ica</code> now use <code>num_comp</code> instead of <code>num</code>. , <code>step_isomap</code> uses <code>num_terms</code> instead of <code>num</code>.</li>
<li>
<code>step_bagimpute</code> moved <code>nbagg</code> out of the options and into a main argument <code>trees</code>.</li>
<li>
<code>step_bs</code> and <code>step_ns</code> has degrees of freedom promoted to a main argument with name <code>deg_free</code>. Also, <code>step_bs</code> had <code>degree</code> promoted to a main argument.</li>
<li>
<code>step_BoxCox</code> and <code>step_YeoJohnson</code> had <code>nunique</code> change to <code>num_unique</code>.</li>
<li>
<code>bake</code>, <code>juice</code> and other functions has <code>newdata</code> changed to <code>new_data</code>. For <em>this version only</em>, using <code>newdata</code> will only result in a wanring.</li>
<li>Several steps had <code>na.rm</code> changed to <code>na_rm</code>.</li>
<li>
<code>prep</code> and a few steps had <code>stringsAsFactors</code> changed to <code>strings_as_factors</code>.</li>
</ul>
</li>
<li><p><code><a href="../reference/roles.html">add_role()</a></code> can now only add <em>new</em> additional roles. To alter existing roles, use <code><a href="../reference/roles.html">update_role()</a></code>. This change also allows for the possibility of having multiple roles/types for one variable. <a href="https://github.com/tidymodels/recipes/issues/221"><a href='https://github.com/tidymodels/recipes/issues/221'>#221</a></a></p></li>
<li><p>All steps gain an <code>id</code> field that will be used in the future to reference other steps.</p></li>
<li><p>The <code>retain</code> option to <code>prep</code> is now defaulted to <code>TRUE</code>. If <code>verbose = TRUE</code>, the approximate size of the data set is printed. <a href="https://github.com/tidymodels/recipes/issues/207"><a href='https://github.com/tidymodels/recipes/issues/207'>#207</a></a></p></li>
</ul>
</div>
<div id="new-operations-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-operations-3" class="anchor"></a>New Operations</h2>
<ul>
<li>
<code>step_integer</code> converts data to ordered integers similar to <a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.LabelEncoder.html"><code>LabelEncoder</code></a> <a href="https://github.com/tidymodels/recipes/issues/123"><a href='https://github.com/tidymodels/recipes/issues/123'>#123</a></a> and <a href="https://github.com/tidymodels/recipes/issues/185"><a href='https://github.com/tidymodels/recipes/issues/185'>#185</a></a>
</li>
<li>
<code>step_geodist</code> can be used to calculate the distance between geocodes and a single reference location.</li>
<li>
<code>step_arrange</code>, <code>step_filter</code>, <code>step_mutate</code>, <code>step_sample</code>, and <code>step_slice</code> implement their <code>dplyr</code> analogs.</li>
<li>
<code>step_nnmf</code> computes the non-negative matrix factorization for data.</li>
</ul>
</div>
<div id="other-changes-7" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-7" class="anchor"></a>Other Changes</h2>
<ul>
<li>The <code>rsample</code> function <code>prepper</code> was moved to <code>recipes</code> <a href="https://github.com/tidymodels/rsample/issues/48">(issue)</a>.</li>
<li>A number of packages were moved from “Imports” to “Suggests” to reduce the install footprint. A function was added to prompt the user to install the needed packages when the relevant steps are invoked.</li>
<li>
<code>step_step_string2factor</code> will <a href="https://github.com/tidymodels/recipes/issues/174">now accept factors</a> and leave them as-is.</li>
<li>
<code>step_knnimpute</code> now excludes missing data in the variable to be imputed from the nearest-neighbor calculation. This would have resulted in some missing data to not be imputed (i.e. return another missing value).</li>
<li>
<code>step_dummy</code> now produces a warning (instead of failing) when non-factor columns are selected. Only factor columns are used; no conversion is done for character data. <a href="https://github.com/tidymodels/recipes/issues/186">issue <a href='https://github.com/tidymodels/recipes/issues/186'>#186</a></a>
</li>
<li>
<code>dummy_names</code> gained a separator argument. <a href="https://github.com/tidymodels/recipes/issues/183">issue <a href='https://github.com/tidymodels/recipes/issues/183'>#183</a></a>
</li>
<li>
<code>step_downsample</code> and <code>step_upsample</code> now have <code>seed</code> arguments for more control over randomness.</li>
<li>
<code>broom</code> is no longer used to get the <code>tidy</code> generic. These are now contained in the <code>generics</code> package.</li>
<li>When a recipe is prepared, a running list of all columns is created and the last known use of each column is kept. This is to avoid bugs when a step that is skipped removes columns. <a href="https://github.com/tidymodels/recipes/issues/239">issue <a href='https://github.com/tidymodels/recipes/issues/239'>#239</a></a>
</li>
</ul>
</div>
</div>
    <div id="recipes-013" class="section level1">
<h1 class="page-header" data-toc-text="0.1.3">
<a href="#recipes-013" class="anchor"></a><small> 2018-06-16 </small><code>recipes</code> 0.1.3</h1>
<div id="new-operations-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-operations-4" class="anchor"></a>New Operations</h2>
<ul>
<li><p><code>check_range</code> breaks <code>bake</code> if variable range in new data is outside the range that was learned from the train set (contributed by Edwin Thoen)</p></li>
<li><p><code>step_lag</code> can lag variables in the data set (contributed by Alex Hayes).</p></li>
<li><p><code>step_naomit</code> removes rows with missing data for specific columns (contributed by Alex Hayes).</p></li>
<li><p><code>step_rollimpute</code> can be used to impute data in a sequence or series by estimating their values within a moving window.</p></li>
<li><p><code>step_pls</code> can conduct supervised feature extraction for predictors.</p></li>
</ul>
</div>
<div id="other-changes-8" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-8" class="anchor"></a>Other Changes</h2>
<ul>
<li><p><code>step_log</code> gained an <code>offset</code> argument.</p></li>
<li><p><code>step_log</code> gained a <code>signed</code> argument (contributed by Edwin Thoen).</p></li>
<li><p>The internal functions <code>sel2char</code> and <code>printer</code> have been exported to enable <a href="https://github.com/tidymodels/recipes/issues/122">other packages to contain steps</a>.</p></li>
<li><p>When training <em>new</em> steps after some steps have been previously trained, the <code>retain = TRUE</code> option should be set on <a href="https://github.com/tidymodels/recipes/issues/143">previous invocations of <code>prep</code></a>.</p></li>
<li>
<p>For <code>step_dummy</code>:</p>
<ul>
<li>It can now compute the <a href="https://github.com/tidymodels/recipes/issues/145">entire set of dummy variables</a> per factor predictor using the <code>one_hot = TRUE</code> option. Thanks to Davis Vaughan.</li>
<li>The <code>contrast</code> option was removed. The step uses the global option for contrasts.</li>
<li>`The step also produces missing indicator variables when the original factor <a href="https://github.com/tidymodels/recipes/issues/133">has a missing value</a>
</li>
</ul>
</li>
<li><p><code>step_other</code> will now convert novel levels of the factor to the “other” level.</p></li>
<li><p><code>step_bin2factor</code> now has an option to choose <a href="https://github.com/tidymodels/recipes/issues/142">how the values are translated to the levels</a> (contributed by Michael Levy).</p></li>
<li><p><code>bake</code> and <code>juice</code> can now export basic data frames.</p></li>
<li><p>The <code>okc</code> data were updated with two additional columns.</p></li>
</ul>
</div>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug Fixes</h2>
<ul>
<li><p><a href="https://github.com/tidymodels/recipes/issues/125">issue 125</a> that prevented several steps from working with <strong>dplyr</strong> grouped data frames. (contributed by Jeffrey Arnold)</p></li>
<li><p><a href="https://github.com/tidymodels/recipes/issues/127">issue 127</a> where options to <code>step_discretize</code> were not being passed to <code>discretize</code>.</p></li>
</ul>
</div>
</div>
    <div id="recipes-012" class="section level1">
<h1 class="page-header" data-toc-text="0.1.2">
<a href="#recipes-012" class="anchor"></a><small> 2018-01-11 </small><code>recipes</code> 0.1.2</h1>
<div id="general-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#general-changes" class="anchor"></a>General Changes</h2>
<ul>
<li><p>Edwin Thoen suggested <a href="https://github.com/tidymodels/recipes/pull/104">adding validation checks</a> for certain data characteristics. This fed into the existing notion of expanding <code>recipes</code> beyond steps (see the <a href="https://github.com/tidymodels/recipes/projects">non-step steps project</a>). A new set of operations, called <strong><code>checks</code></strong>, can now be used. These should throw an informative error when the check conditions are not met and return the existing data otherwise.</p></li>
<li><p>Steps now have a <code>skip</code> option that will not apply preprocessing when <code>bake</code> is used. See the article <a href="https://recipes.tidymodels.org/articles/Skipping.html">on skipping steps</a> for more information.</p></li>
</ul>
</div>
<div id="new-operations-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-operations-5" class="anchor"></a>New Operations</h2>
<ul>
<li><p><code>check_missing</code> will validate that none of the specified variables contain missing data.</p></li>
<li><p><code>detect_step</code> can be used to check if a recipe contains a particular preprocessing operation.</p></li>
<li><p><code>step_num2factor</code> can be used to convert numeric data (especially integers) to factors.</p></li>
<li><p><code>step_novel</code> adds a new factor level to nominal variables that will be used when new data contain a level that did not exist when the recipe was prepared.</p></li>
<li><p><code>step_profile</code> can be used to generate design matrix grids for prediction profile plots of additive models where one variable is varied over a grid and all of the others are fixed at a single value.</p></li>
<li><p><code>step_downsample</code> and <code>step_upsample</code> can be used to change the number of rows in the data based on the frequency distributions of a factor variable in the training set. By default, this operation is only applied to the training set; <code>bake</code> ignores this operation.</p></li>
<li><p><code>step_naomit</code> drops rows when specified columns contain <code>NA</code>, similar to <code><a href="https://tidyr.tidyverse.org/reference/drop_na.html">tidyr::drop_na</a></code>.</p></li>
<li><p><code>step_lag</code> allows for the creation of lagged predictor columns.</p></li>
</ul>
</div>
<div id="other-changes-9" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-9" class="anchor"></a>Other Changes</h2>
<ul>
<li>
<code>step_spatialsign</code> now has the option of removing missing data prior to computing the norm.</li>
</ul>
</div>
</div>
    <div id="recipes-011" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1">
<a href="#recipes-011" class="anchor"></a><small> 2017-11-20 </small><code>recipes</code> 0.1.1</h1>
<ul>
<li>The default selectors for <code>bake</code> was changed from <code><a href="../reference/has_role.html">all_predictors()</a></code> to <code><a href="https://tidyselect.r-lib.org/reference/everything.html">everything()</a></code>.</li>
<li>The <code>verbose</code> option for <code>prep</code> is now defaulted to <code>FALSE</code>
</li>
<li>
<a href="https://github.com/tidymodels/recipes/issues/83">A bug in <code>step_dummy</code></a> was fixed that makes sure that the correct binary variables are generated despite the levels or values of the incoming factor. Also, <code>step_dummy</code> now requires factor inputs.</li>
<li>
<code>step_dummy</code> also has a new default naming function that works better for factors. However, there is an extra argument (<code>ordinal</code>) now to the functions that can be passed to <code>step_dummy</code>.<br>
</li>
<li>
<code>step_interact</code> now allows for selectors (e.g. <code><a href="../reference/has_role.html">all_predictors()</a></code> or <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with("prefix")</a></code> to be used in the interaction formula.</li>
<li>
<code>step_YeoJohnson</code> gained an <code>na.rm</code> option.</li>
<li>
<a href="https://github.com/tidymodels/recipes/issues/85"><code>dplyr::one_of</code></a> was added to the list of selectors.</li>
<li>
<code>step_bs</code> adds B-spline basis functions.</li>
<li>
<code>step_unorder</code> converts ordered factors to unordered factors.</li>
<li>
<code>step_count</code> counts the number of instances that a pattern exists in a string.</li>
<li>
<code>step_string2factor</code> and <code>step_factor2string</code> can be used to move between encodings.</li>
<li>
<code>step_lowerimpute</code> is for numeric data where the values cannot be measured below a specific value. For these cases, random uniform values are used for the truncated values.<br>
</li>
<li>A step to remove simple zero-variance variables was added (<code>step_zv</code>).</li>
<li>A series of <code>tidy</code> methods were added for recipes and many (but not all) steps.</li>
<li>In <code>bake.recipe</code>, the argument <code>newdata</code> is now without a default.</li>
<li>
<code>bake</code> and <code>juice</code> can now save the <em>final</em> processed data set in <a href="https://github.com/tidymodels/recipes/issues/49">sparse format</a>. Note that, as the steps are processed, a non-sparse data frame is used to store the results.</li>
<li>A formula method was added for recipes to get a formula with the outcome(s) and predictors based on the trained recipe.</li>
</ul>
</div>
    <div id="recipes-010" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#recipes-010" class="anchor"></a><small> 2017-07-27 </small><code>recipes</code> 0.1.0</h1>
<p>First CRAN release.</p>
<ul>
<li>Changed <code>prepare</code> to <code>prep</code> per <a href="https://github.com/tidymodels/recipes/issues/59">issue <a href='https://github.com/tidymodels/recipes/issues/59'>#59</a></a>
</li>
</ul>
</div>
    <div id="recipes-0019003" class="section level1">
<h1 class="page-header" data-toc-text="0.0.1.9003">
<a href="#recipes-0019003" class="anchor"></a><small> Unreleased </small><code>recipes</code> 0.0.1.9003</h1>
<ul>
<li>Two of the main functions <a href="https://github.com/tidymodels/recipes/issues/57">changed names</a>. <code>learn</code> has become <code>prepare</code> and <code>process</code> has become <code>bake</code>
</li>
</ul>
</div>
    <div id="recipes-0019002" class="section level1">
<h1 class="page-header" data-toc-text="0.0.1.9002">
<a href="#recipes-0019002" class="anchor"></a><small> Unreleased </small><code>recipes</code> 0.0.1.9002</h1>
<div id="new-steps" class="section level2">
<h2 class="hasAnchor">
<a href="#new-steps" class="anchor"></a>New steps</h2>
<ul>
<li>
<code>step_lincomb</code> removes variables involved in linear combinations to resolve them.</li>
<li>A step for converting binary variables to factors (<code>step_bin2factor</code>)</li>
<li>
<code>step_regex</code> applies a regular expression to a character or factor vector to create dummy variables.</li>
</ul>
</div>
<div id="other-changes-10" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-10" class="anchor"></a>Other changes</h2>
<ul>
<li>
<code>step_dummy</code> and <code>step_interact</code> do a better job of respecting missing values in the data set.</li>
</ul>
</div>
</div>
    <div id="recipes-0019001" class="section level1">
<h1 class="page-header" data-toc-text="0.0.1.9001">
<a href="#recipes-0019001" class="anchor"></a><small> Unreleased </small><code>recipes</code> 0.0.1.9001</h1>
<ul>
<li>The class system for <code>recipe</code> objects was changed so that <a href="https://github.com/tidymodels/recipes/issues/46">pipes can be used to create the recipe with a formula</a>.</li>
<li>
<code>process.recipe</code> lost the <code>role</code> argument in factor of a general set of <a href="https://recipes.tidymodels.org/articles/Selecting_Variables.html">selectors</a>. If no selector is used, all the predictors are returned.</li>
<li>Two steps for simple imputation using the mean or mode were added.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="tidyverse">
  <p>recipes is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Max Kuhn, <a href='http://hadley.nz'>Hadley Wickham</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


